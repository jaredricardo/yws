{% style %}
    [data-section-id="{{ section.id }}"]{
        display: flex;
        padding: 40px 0px;
        flex-direction: column;
        align-items: flex-start;
        gap: 40px;
        align-self: stretch;
        background-color:{{ section.settings.background_color }};
    }
    [data-section-id="{{ section.id }}"] .workshop-img-grid{
        display:none;
    }
    [data-section-id="{{ section.id }}"] .yws-the-workshop{
        display: flex;
        padding: 0px 0px 0px 10px;
        flex-direction: column;
        align-items: flex-start;
        gap: 30px;
        align-self: stretch;
    }
    [data-section-id="{{ section.id }}"] .workshop-slider{
        display: flex;
        padding-left: 10px;
        align-items: center;
        gap: 10px;
        align-self: stretch;
    }
    [data-section-id="{{ section.id }}"] .workshop-slider img{
        width:100%;
        aspect-ratio: 1/1;
    }
    [data-section-id="{{ section.id }}"] .workshop-slider .swiper-slide{
        display: flex;
        align-items: flex-start;
        width:307px;
        border-radius:10px;
        overflow:hidden;
    }
    [data-section-id="{{ section.id }}"] .slide-container{
        position:relative;
        width:100%;
        height:100%;
        display:flex;
        flex-direction:column;
    }
    [data-section-id="{{ section.id }}"] .slide-title{
        color: #F3ECDE;
        font-size: 20px;
        font-weight: 700;
        line-height: normal;
        letter-spacing: 0.4px;
        position:absolute;
        bottom:30px;
        left:20px;
    }
    [data-section-id="{{ section.id }}"] .swiper-pagination{
        position:unset;
        display: flex;
        align-items: center;
        gap: 5px;
        flex: 1 0 0;
    }
    [data-section-id="{{ section.id }}"] .pagination-container{
        margin-top: 20px;
        display: flex;
        padding: 0px 0px 0px 10px;
        justify-content: space-between;
        align-items: center;
        align-self: stretch;
    }
    
    [data-section-id="{{ section.id }}"] .swiper-pagination-bullet{
        width:10px;
        height:10px;
        background-color:#F3ECDE;
        position:relative;
        opacity:1;
    }
    [data-section-id="{{ section.id }}"] .swiper-pagination-bullet-active:after{
        content: '';
        position: absolute;
        padding: 3px;
        top: -3px;
        left: -3px;
        width: 16px;
        height: 16px;
        border: 1px solid #F3ECDE;
        border-radius: 100px;
    }
    [data-section-id="{{ section.id }}"] .fraction{
        padding: 0px 40px;
        justify-content: flex-end;
        align-items: flex-start;
        gap: 10px;
        display:flex;
    }
    [data-section-id="{{ section.id }}"] .fraction *{
        color: #F3ECDE;
        font-size: 14px;
        font-weight: 700;
        line-height: 14px; /* 100% */
        letter-spacing: 0.28px;
        display: flex;
    }
    [data-section-id="{{ section.id }}"] .workshop-txt{
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: flex-start;
        gap: 20px;
        align-self: stretch;
    }
    [data-section-id="{{ section.id }}"] .workshop-txt *{
        color:#F3ECDE;
    }
    [data-section-id="{{ section.id }}"] .text-container,
    [data-section-id="{{ section.id }}"] .main-txt{
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: flex-start;
        gap: 20px;
        align-self: stretch;
    }
    [data-section-id="{{ section.id }}"] .workshop-txt .heading{
        display: flex;
        padding: 0px 0px 5px;
        align-items: flex-start;
        align-self: stretch;
        margin:0 20px;
        border-bottom: 2px solid var(--YWS-Off-White, #F3ECDE);
    }
    [data-section-id="{{ section.id }}"] .heading h3,
    [data-section-id="{{ section.id }}"] .main-txt h2{
        color: var(--YWS-Off-White, #F3ECDE);
        font-size: 20px;
        font-weight: 700;
        line-height: 20px; /* 100% */
        letter-spacing: 0.4px;
        margin:0;
    }
    [data-section-id="{{ section.id }}"] .main-txt h2{
        padding:0 20px;
    }
    [data-section-id="{{ section.id }}"] .workshop-txt .caption,
    [data-section-id="{{ section.id }}"] .section-desc{
        display: flex;
        padding: 0px 20px;
        justify-content: center;
        align-items: center;
        align-self: stretch;
    }
    [data-section-id="{{ section.id }}"] .workshop-txt .caption p,
    [data-section-id="{{ section.id }}"] .section-desc{
        color: #F3ECDE;
        font-size: 18px;
        font-weight: 700;
        line-height: 24px; /* 133.333% */
        letter-spacing: 0.36px;
        margin:0;
    }
    @media(min-width:430px){
        [data-section-id="{{ section.id }}"]{
            padding: 80px 0px;
        }
        [data-section-id="{{ section.id }}"] .yws-the-workshop{
            padding:0 15px;
            gap:40px;
        }
        [data-section-id="{{ section.id }}"] .workshop-txt{
            gap: 30px;
        }
        [data-section-id="{{ section.id }}"] .workshop-txt .heading{
            margin:0 30px;
        }
        [data-section-id="{{ section.id }}"] .workshop-txt .caption,
        [data-section-id="{{ section.id }}"] .section-desc{
            padding:0 30px;
            justify-content:unset;
        }
        [data-section-id="{{ section.id }}"] .main-txt h2{
            padding:0 30px;
            color: var(--YWS-Off-White, #F3ECDE);
            font-size: 36px;
            font-weight: 700;
            line-height: 36px; /* 100% */
            letter-spacing: 0.72px;
        }
        [data-section-id="{{ section.id }}"] .workshop-txt .caption p{
            line-height:26px;
        }
        [data-section-id="{{ section.id }}"] .workshop-slider .swiper{
            display:none !important;
        }
        [data-section-id="{{ section.id }}"] .workshop-img-grid{
            display: flex;
            align-items: flex-start;
            align-content: center;
            gap: 15px;
            align-self: stretch;
            flex-wrap: wrap;
        }
        [data-section-id="{{ section.id }}"] .workshop-img-grid .full-col{
            display:flex;
            flex:100%;
            border-radius:10px;
            overflow:hidden;
            flex-direction:column;
        }
        [data-section-id="{{ section.id }}"] .workshop-img-grid .half-col{
            display:flex;
            flex:3;
            flex-direction:column;
        }
        [data-section-id="{{ section.id }}"] .workshop-slider { 
            padding: 0;
        }
        [data-section-id="{{ section.id }}"] .workshop-slider img {
            aspect-ratio: 395/282;
            border-radius:10px;
        }
    }
    @media(min-width:834px){
        [data-section-id="{{ section.id }}"]{
            display: flex;
            padding: 100px 0px;
            flex-direction: column;
            align-items: flex-start;
            gap: 60px;
            align-self: stretch;
        }
        [data-section-id="{{ section.id }}"] .yws-the-workshop{
            flex-direction:row-reverse;
            display: flex;
            padding: 0px 30px;
            align-items: flex-start;
            gap: 30px;
        }
        [data-section-id="{{ section.id }}"] .workshop-txt{
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-start;
            gap: 30px;
            flex-shrink: 0;
            align-self: stretch;
            flex:3;
        }
        [data-section-id="{{ section.id }}"] .workshop-slider{
            flex:3;
        }
        [data-section-id="{{ section.id }}"] .main-txt{
            gap:30px;
        }
        [data-section-id="{{ section.id }}"] .main-txt h2{
            padding:0 30px;
            font-size: 48px;
            font-weight: 700;
            line-height: 48px; /* 100% */
            letter-spacing: 0.96px;
        }
        [data-section-id="{{ section.id }}"] .section-desc{
            padding:0 30px;
            font-size: 24px;
            line-height: 30px; /* 125% */
            letter-spacing: 0.48px;
        }
        [data-section-id="{{ section.id }}"] .workshop-img-grid{
            gap:30px;
        }
        [data-section-id="{{ section.id }}"] .text-container .heading h3{
            font-size:24px;
            line-height:30px;
        }
        [data-section-id="{{ section.id }}"] .workshop-slider{
            padding:0;
        }
    }
{% endstyle %}
<div data-section-id="{{ section.id }}">
    <div class="yws-the-workshop">
        <div class="workshop-slider">
            <div class="workshop-img-grid">
                {% assign slider = section.blocks | where:'type','slide-images' %}
                {% for block in slider %}
                    {% if forloop.first %}
                        <div class="full-col">
                            <img src="{{ block.settings.slide_img | img_url:'master' }}" alt="{{ block.settings.slide_img | alt }}">
                        </div>
                    {% else %}
                        <div class="half-col">
                            <img src="{{ block.settings.slide_img | img_url:'master' }}" alt="{{ block.settings.slide_img | alt }}">
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
            <div class="swiper">
                <div class="swiper-wrapper">
                    {% assign count = 0 %}
                    {% assign slider = section.blocks | where:'type','slide-images' %}
                    {% for block in slider %}
                        {% assign count = count | plus: 1 %}
                        <div data-slide-index="{{ forloop.index }}" class="swiper-slide">
                            <div class="slide-container">
                                <img src="{{ block.settings.slide_img | img_url:'master' }}" alt="{{ block.settings.slide_img | alt }}">
                            </div>
                        </div>

                    {% endfor %}
                </div>
                <div class="pagination-container">
                    <div class="swiper-pagination"></div>
                    <div class="fraction">
                        <span class="starting-num">1</span><span class="divider">/</span><span class="total-num">{{ count }}</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="workshop-txt">
            <div class="main-txt">
                <h2>{{ section.settings.section_heading }}</h2>
                <div class="section-desc">
                    {{ section.settings.section_desc }}
                </div>
            </div>
            {% assign texts = section.blocks | where:'type','text-block' %}
            {% for block in texts %}
                <div class="text-container">
                    <div class="heading">
                        <h3>{{ block.settings.heading }}</h3>
                    </div>
                    <div class="caption">
                        {{ block.settings.caption }}
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
</div>
{% javascript %}
    const swiper_workshop = new Swiper('.workshop-slider .swiper',{
        speed:400,
        spaceBetween:10,
        slidesPerView:1.16,
        loop:true,
        centeredSlides:false,
        pagination:{
            el:'.swiper-pagination',
            clickable:true
        },
    })
    swiper_workshop.on('transitionEnd',function(){
        const activeSlide = document.querySelector('.workshop-slider .swiper-slide-active').getAttribute('data-slide-index');
        const startingNum = document.querySelector('.workshop-slider .starting-num').innerText = activeSlide;
    });
{% endjavascript %}
{% schema %}
{
    "name":"YWS The Workshop",
    "settings":[
        {
            "type": "color",
            "id": "background_color",
            "label": "Background Color",
            "default":"#9C2C24"
        },
        {
            "type":"text",
            "id":"section_heading",
            "label":"Section Heading"
        },
        {
            "type":"textarea",
            "id":"section_desc",
            "label":"Section Description"
        }
    ],
    "blocks":[
        {
            "type":"slide-images",
            "name":"Slide Image",
            "limit": 3,
            "settings": [
                {
                    "type": "image_picker",
                    "id":"slide_img",
                    "label":"Slide Image"
                }
            ]
        },
        {
            "type":"text-block",
            "name":"Text Block",
            "settings":[
                {
                    "type":"text",
                    "id":"heading",
                    "label":"Heading"
                },
                {
                    "type":"richtext",
                    "id":"caption",
                    "label":"Caption"
                }
            ]
        }
    ]
}
{% endschema %}